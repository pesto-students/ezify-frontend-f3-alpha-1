{"version":3,"file":"static/js/457.76988b99.chunk.js","mappings":"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","sources":["../node_modules/react-bootstrap/esm/PageItem.js","../node_modules/react-bootstrap/esm/Pagination.js","components/atmoic/customPagination/index.js","pages/bookings/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"active\", \"disabled\", \"className\", \"style\", \"activeLabel\", \"children\"],\n    _excluded2 = [\"children\"];\n\n/* eslint-disable react/no-multi-comp */\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  active: false,\n  disabled: false,\n  activeLabel: '(current)'\n};\nvar PageItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      style = _ref.style,\n      activeLabel = _ref.activeLabel,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var Component = active || disabled ? 'span' : SafeAnchor;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    ref: ref,\n    style: style,\n    className: classNames(className, 'page-item', {\n      active: active,\n      disabled: disabled\n    })\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: \"page-link\",\n    disabled: disabled\n  }, props), children, active && activeLabel && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, activeLabel)));\n});\nPageItem.defaultProps = defaultProps;\nPageItem.displayName = 'PageItem';\nexport default PageItem;\n\nfunction createButton(name, defaultValue, label) {\n  if (label === void 0) {\n    label = name;\n  }\n\n  function Button(_ref2) {\n    var children = _ref2.children,\n        props = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n    return /*#__PURE__*/React.createElement(PageItem, props, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\"\n    }, children || defaultValue), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, label));\n  }\n\n  Button.displayName = name;\n  return Button;\n}\n\nexport var First = createButton('First', '«');\nexport var Prev = createButton('Prev', '‹', 'Previous');\nexport var Ellipsis = createButton('Ellipsis', '…', 'More');\nexport var Next = createButton('Next', '›');\nexport var Last = createButton('Last', '»');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"children\", \"size\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PageItem, { Ellipsis, First, Last, Next, Prev } from './PageItem';\n\n/**\n * @property {PageItem} Item\n * @property {PageItem} First\n * @property {PageItem} Prev\n * @property {PageItem} Ellipsis\n * @property {PageItem} Next\n * @property {PageItem} Last\n */\nvar Pagination = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      size = _ref.size,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'pagination');\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix, size && decoratedBsPrefix + \"-\" + size)\n  }), children);\n});\nPagination.First = First;\nPagination.Prev = Prev;\nPagination.Ellipsis = Ellipsis;\nPagination.Item = PageItem;\nPagination.Next = Next;\nPagination.Last = Last;\nexport default Pagination;","import React from \"react\";\r\nimport { Pagination } from \"react-bootstrap\";\r\n\r\nimport \"./customPagination.scss\";\r\n\r\nconst CustomPagination = ({ records, pageSize, page, setPage }) => {\r\n  return (\r\n    <Pagination className=\"customPagination\">\r\n      {records.map((_, index) => {\r\n        if (index % pageSize === 0) {\r\n          return (\r\n            <Pagination.Item key={index + 1} active={index / pageSize + 1 === page} onClick={() => setPage(index === 0 ? 1 : index / pageSize + 1)}>\r\n              {index === 0 ? 1 : index / pageSize + 1}\r\n            </Pagination.Item>\r\n          );\r\n        }\r\n      })}\r\n    </Pagination>\r\n  );\r\n};\r\n\r\nexport default CustomPagination;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./bookings.scss\";\r\n\r\nimport rupeeIcon from \"./../../assets/service_page/rupee.webp\";\r\nimport { ApiCallsContext } from \"../../services/api.service\";\r\nimport { catchHandler } from \"../../utlis/catchHandler.utlis\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport { selectToken } from \"../../redux/user/user.selectors\";\r\nimport { connect } from \"react-redux\";\r\nimport { API_URLS } from \"../../utlis/constants\";\r\nimport CustomPagination from \"../../components/atmoic/customPagination\";\r\n\r\nconst Bookings = ({ userToken }) => {\r\n  const ApiContext = useContext(ApiCallsContext);\r\n\r\n  const [active, setactive] = useState(true);\r\n  const [bookingData, setbookingData] = useState([]);\r\n  const [activeBookngs, setActiveBookngs] = useState([]);\r\n  const [historyBookings, setHistoryBookings] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize] = useState(10);\r\n\r\n  const changeActiveState = () => {\r\n    if (active) {\r\n      setbookingData(activeBookngs);\r\n    } else {\r\n      setbookingData(historyBookings);\r\n    }\r\n  };\r\n\r\n  const fetchActiveBookings = async () => {\r\n    const response = await catchHandler(fetchActiveBookingAPI);\r\n\r\n    if (response) {\r\n      let activeBookingRecords = [];\r\n      let historyBookingRecords = [];\r\n\r\n      if (Array.isArray(response) && response.length > 0) {\r\n        response.forEach((booking) => {\r\n          if (booking.status === \"completed\") {\r\n            historyBookingRecords.push(booking);\r\n          } else if (booking.status === \"active\") {\r\n            activeBookingRecords.push(booking);\r\n          }\r\n          // booking.bookings.forEach((bookingObj) => {\r\n          //   if (bookingObj.status === \"completed\") {\r\n          //     historyBookingRecords.push(bookingObj);\r\n          //   } else if (bookingObj.status === \"active\") {\r\n          //     activeBookingRecords.push(bookingObj);\r\n          //   }\r\n          // });\r\n        });\r\n\r\n        setActiveBookngs(activeBookingRecords);\r\n        setHistoryBookings(historyBookingRecords);\r\n\r\n        changeActiveState();\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchActiveBookingAPI = async () => {\r\n    const headers = {\r\n      Authorization: `Bearer ${userToken}`,\r\n    };\r\n\r\n    const data = await ApiContext.getData(API_URLS.GET_ALL_BOOKINGS, { headers });\r\n    return data;\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchActiveBookings();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    changeActiveState();\r\n    setPage(1);\r\n    console.log(bookingData);\r\n  }, [active, activeBookngs, historyBookings]);\r\n\r\n  return (\r\n    <div className=\"booking-page px-3 px-lg-0\">\r\n      <div className=\"container\">\r\n        <div className=\"row py-4\">\r\n          <div className=\"col-12 booking-page__heading-text\">MY BOOKINGS</div>\r\n        </div>\r\n        <div className=\"row booking-page__toggle-tab\">\r\n          <div\r\n            onClick={() => setactive(!active)}\r\n            className={`col-6 text-center booking-page__toggle-tab_tabs ${active ? \"booking-page__toggle-tab_tabs-active\" : \"\"}`}\r\n          >\r\n            ACTIVE\r\n          </div>\r\n          <div\r\n            onClick={() => setactive(!active)}\r\n            className={`col-6 text-center booking-page__toggle-tab_tabs ${!active ? \"booking-page__toggle-tab_tabs-active\" : \"\"}`}\r\n          >\r\n            HISTORY\r\n          </div>\r\n        </div>\r\n        <div className=\"booking-page__custom-table row my-3\">\r\n          <table className=\"table booking-page__custom-table_table-margin mt-0 mb-0\">\r\n            <thead>\r\n              <tr>\r\n                <th width=\"20%\" className=\"booking-page__custom-table_header-elements\">\r\n                  SERVICE\r\n                </th>\r\n                <th width=\"20%\" className=\"booking-page__custom-table_header-elements\">\r\n                  VENDOR NAME\r\n                </th>\r\n                <th width=\"20%\" className=\"booking-page__custom-table_header-elements\">\r\n                  VENDOR PH. NO.\r\n                </th>\r\n                <th width=\"18%\" className=\"booking-page__custom-table_header-elements\">\r\n                  AMOUNT\r\n                </th>\r\n                <th width=\"18%\" className=\"booking-page__custom-table_header-elements\">\r\n                  STATUS\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            {bookingData.length > 0 && (\r\n              <tbody>\r\n                {bookingData.slice((page - 1) * pageSize, (page - 1) * pageSize + pageSize).map((value, index) => (\r\n                  <tr key={index}>\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center booking-page__custom-table__icons\">\r\n                        {/* <img src={avatarIcon} alt=\"avatarIcon\" className=\"mr-3\" /> */}\r\n                        {value.serviceID.name}\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      {value.vendorID.firstName} {value.vendorID.lastName}\r\n                    </td>\r\n                    <td>+91 {value.vendorID.mobileNumber}</td>\r\n                    <td>\r\n                      <div className=\"d-flex align-items-center justify-content-center booking-page__custom-table__icons\">\r\n                        <img src={rupeeIcon} alt=\"rupeeIcon\" className=\"mr-3\" />\r\n                        {value.baseprice}\r\n                      </div>\r\n                    </td>\r\n                    <td className={`text-uppercase ${value.status === \"active\" ? \"status-color-active\" : \"status-color-done\"}`}>{value.status}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            )}\r\n            {bookingData.length === 0 && (\r\n              <tbody>\r\n                <tr>\r\n                  <td colSpan=\"5\">No Booking Data Found</td>\r\n                </tr>\r\n              </tbody>\r\n            )}\r\n          </table>\r\n        </div>\r\n        <div className=\"d-flex align-items-center justify-content-end mt-4\">\r\n          <CustomPagination records={bookingData} pageSize={pageSize} page={page} setPage={setPage} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  userToken: selectToken,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Bookings);\r\n"],"names":["_excluded","_excluded2","PageItem","React","_ref","ref","active","disabled","className","style","activeLabel","children","props","_objectWithoutPropertiesLoose","Component","SafeAnchor","classNames","_extends","defaultProps","displayName","createButton","name","defaultValue","label","Button","_ref2","First","Prev","Ellipsis","Next","Last","Pagination","bsPrefix","size","decoratedBsPrefix","useBootstrapPrefix","Item","records","pageSize","page","setPage","map","_","index","onClick","mapStateToProps","createStructuredSelector","userToken","selectToken","connect","ApiContext","useContext","ApiCallsContext","useState","setactive","bookingData","setbookingData","activeBookngs","setActiveBookngs","historyBookings","setHistoryBookings","changeActiveState","fetchActiveBookings","catchHandler","fetchActiveBookingAPI","response","activeBookingRecords","historyBookingRecords","Array","isArray","length","forEach","booking","status","push","headers","Authorization","getData","API_URLS","data","useEffect","console","log","width","slice","value","serviceID","vendorID","firstName","lastName","mobileNumber","src","rupeeIcon","alt","baseprice","colSpan"],"sourceRoot":""}