"use strict";(self.webpackChunkezzify_pesto_frontend=self.webpackChunkezzify_pesto_frontend||[]).push([[61],{6061:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var r=t(1413),s=t(5861),i=t(885),c=t(7757),a=t.n(c),o=t(2791),u=t(9271),l=t(6916),d=t(5770),f=t(6727),v=t(3117),m=t(6837),x=t(364),h=t(6074),p=t(4667),j=t(44),_=t(4872),N=t(184),b=(0,l.zB)({cartItems:m.D1,cartItemsVendors:m.s0,cartItemsService:m.Y7,userDetails:_.u}),I=(0,x.$j)(b,(function(e){return{addItemToCart:function(n){return e((0,h.Q0)(n))},removeItemFromCart:function(n){return e((0,h.h2)(n))}}}))((function(e){var n=e.profileImage,t=e.firstName,s=e.lastName,c=e.serviceId,a=e.services,u=e._id,l=e.cartItems,d=e.addItemToCart,m=e.removeItemFromCart,x=e.serviceName,h=e.availabaleDate,_=e.availableTime,b=e.userDetails,I=(0,o.useState)(!1),y=(0,i.Z)(I,2),g=y[0],C=y[1],T=(0,o.useState)("You can not add multiple vendors for the same service"),w=(0,i.Z)(T,2),D=w[0],E=w[1],P=a.find((function(e){return e.serviceID===c})),S=function(){if("vendor"===(null===b||void 0===b?void 0:b.roles)||"admin"===(null===b||void 0===b?void 0:b.roles))return C(!0),void E("Vendor can not add another vendor");d({vendorID:u,serviceID:c,active:!0,profileImage:n,firstName:t,lastName:s,serviceName:x,basePrice:P.basePrice})},Z=function(){k({type:"button",text:"BOOK NOW",onClick:S}),m(c)};(0,o.useEffect)((function(){l.forEach((function(e,n){e.serviceID===c&&e.vendorID===u&&(k({type:"button",text:"CANCEL",onClick:Z}),"CANCEL"===B.text&&(C(!0),E("You can not add multiple vendors for the same service")))}))}),[l]);var O=(0,o.useState)({type:"button",text:"BOOK NOW",onClick:S}),R=(0,i.Z)(O,2),B=R[0],k=R[1];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"row vendorTile mb-2",children:[(0,N.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-center",children:(0,N.jsx)("img",{src:n,alt:"Vendor Profile",className:"h-100 w-100 vendorTile__profile"})}),(0,N.jsxs)("div",{className:"col-5",children:[(0,N.jsx)("div",{className:"d-flex align-items-center justify-content-between vendorTile__nameRatings",children:(0,N.jsxs)("div",{className:"vendorTile__name",children:[t," ",s]})}),(0,N.jsxs)("div",{className:"vendorTile__timing",children:[(0,N.jsx)("div",{children:h}),(0,N.jsx)("div",{children:_})]}),(0,N.jsxs)("div",{className:"d-flex align-items-center justify-content-between vendorTile__pricing",children:[(0,N.jsx)("img",{src:v,alt:"Rupee Symbol"}),(0,N.jsxs)("span",{children:[P.basePrice," Rs."]})]})]}),(0,N.jsx)("div",{className:"col-3 offset-2 d-flex align-items-center justify-content-center",children:(0,N.jsx)(f.Z,(0,r.Z)({},B))})]}),(0,N.jsxs)(p.Z,{show:g,handleClose:function(){return C(!1)},handleShow:function(){return C(!0)},size:"md",children:[(0,N.jsx)(j.Z.Header,{closeButton:!0,children:"\ud83d\udca5 Warning"}),(0,N.jsx)(j.Z.Body,{children:(0,N.jsx)("p",{className:"mb-0 text-center font-weight-bold",children:D})})]})]})})),y=t(6606),g=t(7391),C=t(5335),T=t(1523),w=(0,l.zB)({cartItems:m.D1}),D=(0,x.$j)(w)((function(e){var n=e.cartItems;return(0,N.jsxs)(T.rU,{to:"/payment",className:"cart d-flex align-items-center justify-content-between",children:[(0,N.jsx)("div",{children:"Services"}),(0,N.jsx)("div",{children:n.length})]})})),E=(0,l.zB)({cartItems:m.D1}),P=(0,x.$j)(E)((function(e){var n=e.cartItems,t=(0,o.useContext)(g.D),c=(0,u.useParams)(),l=c.name,f=c.serviceId,v=c.city,m=(0,o.useState)([]),x=(0,i.Z)(m,2),h=x[0],p=x[1];(0,o.useEffect)((function(){j()}),[f]);var j=function(){var e=(0,s.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.e)(_);case 2:n=e.sent,p(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,s.Z)(a().mark((function e(){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={serviceID:f,city:v},e.next=3,t.postData(C.Y.FETCH_VENDORS,n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"services",children:[(0,N.jsxs)("div",{className:"services__banner",children:[(0,N.jsx)("img",{src:d,alt:"Banner"}),(0,N.jsxs)("h2",{className:"services__banner--text",children:[l," Services"]})]}),(0,N.jsx)("div",{className:"services__listing-container container",children:(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-4",children:(0,N.jsxs)("div",{className:"services__filter-box services__filter-box--1",children:[(0,N.jsx)("div",{className:"services__filter-box--title",children:"Sort By"}),(0,N.jsx)("div",{className:"services__filter-box--options",children:"Price: High to Low"}),(0,N.jsx)("div",{className:"services__filter-box--options",children:"Price: Low to High"})]})}),(0,N.jsxs)("div",{className:"col-8",children:[h.length>0&&h.map((function(e,t){return(0,N.jsx)(I,(0,r.Z)((0,r.Z)({},e),{},{serviceId:f,serviceName:l,cartItems:n}),t)})),h.length<=0&&(0,N.jsx)("h2",{className:"text-center",children:"Sorry, No vendor found"})]})]})})]}),n.length>0&&(0,N.jsx)(D,{})]})}))},6074:function(e,n,t){t.d(n,{Q0:function(){return s},h2:function(){return i},bK:function(){return c},UY:function(){return a}});var r=t(6567),s=function(e){return{type:r._.SET_ITEM_TO_CART,payload:e}},i=function(e){return{type:r._.REMOVE_ITEM_FROM_CART,payload:e}},c=function(e){return{type:r._.DISABLE_ITEM_FROM_CART,payload:e}},a=function(){return{type:r._.EMPTY_CART}}},6837:function(e,n,t){t.d(n,{D1:function(){return s},s0:function(){return i},Y7:function(){return c},ej:function(){return a}});var r=t(6916),s=(0,r.P1)([function(e){return e.cart}],(function(e){return e.items})),i=((0,r.P1)([s],(function(e){return e.map((function(e){return e.id}))})),(0,r.P1)([s],(function(e){return e.map((function(e){return e.vendorID}))}))),c=(0,r.P1)([s],(function(e){return e.map((function(e){return e.serviceID}))})),a=(0,r.P1)([s],(function(e){var n=0;return e.map((function(e){e.active&&(n+=e.basePrice)})),n}))},5770:function(e,n,t){e.exports=t.p+"static/media/banner-1.12ec54fd046bdc3b23f8.webp"},3117:function(e,n,t){e.exports=t.p+"static/media/rupee.bc6defe8c0aee382f52f.webp"}}]);
//# sourceMappingURL=61.5af25d22.chunk.js.map